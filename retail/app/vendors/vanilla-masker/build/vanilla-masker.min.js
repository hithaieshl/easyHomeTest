!function(a,b){"function"==typeof define&&define.amd?define(b):a.VanillaMasker=b()}(this,function(){var a="9",b="A",c=function(a){a=a||{},this.opts={precision:a.hasOwnProperty("precision")?a.precision:2,separator:a.separator||",",delimiter:a.delimiter||".",unit:a.unit&&a.unit+" "||"",zeroCents:a.zeroCents},this.lastOutput="",this.moneyPrecision=a.zeroCents?0:this.opts.precision};return c.prototype.bindElementToMask=function(a,b,c){try{for(var d=this,e=a.length?a:[a],f=function(a){a.target?a.target.value=d[b](a.target.value,c):a.srcElement.value=d[b](a.srcElement.value,c)},g=0,h=e.length;h>g;g++)e[g].addEventListener?(e[g].addEventListener("keyup",f),e[g].addEventListener("keydown",f)):(e[g].attachEvent("onkeyup",f),e[g].attachEvent("onkeydown",f))}catch(i){console.log("There is no element to bind.")}},c.prototype.maskMoney=function(a){this.bindElementToMask(a,"toMoney")},c.prototype.toMoney=function(a){if(this.opts.zeroCents){var b="("+this.opts.separator+"[0]{0,"+this.opts.precision+"})",c=new RegExp(b,"g"),d=a.length||0;a=a.toString().replace(c,""),d<this.lastOutput.length&&(a=a.slice(0,a.length-1))}var e=a.toString().replace(/[\D]/g,""),f=new RegExp("^(0|\\"+this.opts.delimiter+")"),g=new RegExp("(\\"+this.opts.separator+")$"),h=e.substr(0,e.length-this.moneyPrecision),i=h.substr(0,h.length%3),j=new Array(this.opts.precision+1).join("0");h=h.substr(h.length%3,h.length);for(var k=0,l=h.length;l>k;k++)k%3===0&&(i+=this.opts.delimiter),i+=h[k];if(i=i.replace(f,""),i=i.length?i:"0",!this.opts.zeroCents){var m=e.length-this.opts.precision,n=e.substr(m,this.opts.precision),o=n.length,p=this.opts.precision>o?this.opts.precision:o;j=(j+n).slice(-p)}var q=this.opts.unit+i+this.opts.separator+j;return this.lastOutput=q=q.replace(g,""),q},c.prototype.maskNumber=function(a){this.bindElementToMask(a,"toNumber")},c.prototype.toNumber=function(a){return a.toString().replace(/[\D]/g,"")},c.prototype.maskPattern=function(a,b){this.bindElementToMask(a,"toPattern",b)},c.prototype.toPattern=function(c,d){var e,f=d.split(""),g=c.toString().replace(/[^0-9a-zA-Z]/g,""),h=0;for(e=0;e<f.length&&!(h>=g.length);e++)f[e]===a&&g[h].match(/[0-9]/)||f[e]===b&&g[h].match(/[a-zA-Z]/)?f[e]=g[h++]:(f[e]===a||f[e]===b)&&(f=f.slice(0,e));return f.join("").substr(0,e)},c});